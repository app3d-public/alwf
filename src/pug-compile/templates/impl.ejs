#include <acul/string/sstream.hpp>
<%_ if (variables.length > 0) { _%>
#include "<%= namespace %>.hpp"
<%_ } _%>
#include <acul/locales.hpp>
        
namespace templates
{
    namespace <%= namespace %>
    {
        acul::string render(<% if (variables.length > 0) { %>const Data& data<% } %>) {
            acul::stringstream output;
            <%_ json.forEach(entry => { _%>
                <%_ if (entry.type === "text") { _%>
                output << "<%- entry.value.replace(/"/g, '\\"') %>";
                <%_ } else if (entry.type === "locale") { _%>
                output << <%- entry.value %>;
                <%_ } else if (entry.type === "variable") { _%>
                output << data.<%- entry.value %>;
                <%_ } _%>
            <%_ }); _%>
            return output.str();
        }
    }
}